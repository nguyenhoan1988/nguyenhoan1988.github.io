---
layout: post
title: MassagePack against the world of Python serializers
tags:
- python
- benchmark
---

<link rel="stylesheet" href="http://cdn.pydata.org/bokeh/release/bokeh-0.9.0.min.css" type="text/css" />

<script type="text/javascript" src="http://cdn.pydata.org/bokeh/release/bokeh-0.9.0.min.js"></script>

> MessagePack is an efficient binary serialization format.
> It lets you exchange data among multiple languages like JSON.
> But it's ***faster*** and ***smaller***.

I am involved in multiple projects where I need to serialize data and send to a message queue. I found **Python pickle** is very useful and included with Python. However there are multiple ways to exchange data, **JSON** is unarguably one of the most common format, and **MessagePack** is a new guy in town. In order to choose a serializer, speed and the size of the message are important. And we will see in this post how all of them performs compared to each other, especially **MessagePack**.

# Setup

I will test [Python msgpack 0.4.6](https://pypi.python.org/pypi/msgpack-python/) against the default [pickle](https://docs.python.org/2/library/pickle.html#module-cPickle) format of Python with **cPickle 1.71**, the [default Python json (2.0.9) package](https://docs.python.org/2/library/json.html), and a highly optimized, written mostly in C [ultrajson 1.33](https://pypi.python.org/pypi/ujson) package.

Operations: **dumps** and **loads** will be tested. The runtime is measured in **ms**.

The environment for testing is `Python 2.7.10`, with Intel(R) Core(TM) i3-3240 CPU @ 3.40GHz processor. The data point used for this benchmark is created from a dictionary of various data type. Then I generate different lists of different sizes of: `10`, `100`, `1,000`, `10,000`, and `100,000`.

``` Python
from random import random, randint

def generate_small_data():
    return {
        'string': """
            Lorem ipsum dolor sit amet, consectetur adipiscing
            elit. Mauris adipiscing adipiscing placerat.
            Vestibulum augue augue,
            pellentesque quis sollicitudin id, adipiscing.
            """,
        'list': range(100),
        'dict': {i: i * random() for i in xrange(100)},
        'int': randint(-10 ** 10, 10 ** 10),
        'float': randint(-10 ** 10, 10 ** 10) * random()
    }

small_data = generate_small_data()
data_10 = [generate_small_data() for each in xrange(10)]
data_100 = [generate_small_data() for each in xrange(100)]
data_1000 = [generate_small_data() for each in xrange(1000)]
data_10000 = [generate_small_data() for each in xrange(10000)]
data_100000 = [generate_small_data() for each in xrange(100000)]
```

# Dumps function performance

| Size of list | cPickle |  json | ujson | msgpack |
|:------------:|:-------:|:-----:|:-----:|:-------:|
|      10      |  0.823  | 1.080 | 0.175 | 0.0714  |
|      100     |   8.34  |  11.9 | 1.81  | 0.792   |
|     1,000    |    85   |  120  | 18.7  | 8.15    |
|    10,000    |   853   |  1200 | 191   | 82.9    |
|    100,000   |   8660  | 12100 | 1920  | 851     |

<script type="text/javascript">
    Bokeh.$(function() {
        var all_models = [{"attributes": {"plot": {"subtype": "Chart", "type": "Plot", "id": "c9357378-031f-42ca-9645-3dd61291da0d"}, "tags": [], "doc": null, "dimension": 1, "ticker": {"type": "BasicTicker", "id": "c95ceae7-c045-4d1f-a9a6-fbaa88aed5d2"}, "id": "3fc12681-7856-43bf-8d0c-d9f5a778435d"}, "type": "Grid", "id": "3fc12681-7856-43bf-8d0c-d9f5a778435d"}, {"attributes": {"nonselection_glyph": null, "data_source": {"type": "ColumnDataSource", "id": "379e784a-b6ae-45d6-a830-9a19cec5d0b2"}, "tags": [], "doc": null, "selection_glyph": null, "id": "5cf89ab6-613f-457e-b6f5-f84c6ce688e4", "glyph": {"type": "Rect", "id": "dd2db34a-bc36-431f-9a15-b999ebc1ab53"}}, "type": "GlyphRenderer", "id": "5cf89ab6-613f-457e-b6f5-f84c6ce688e4"}, {"attributes": {"plot": {"subtype": "Chart", "type": "Plot", "id": "c9357378-031f-42ca-9645-3dd61291da0d"}, "dimensions": ["width", "height"], "tags": [], "doc": null, "id": "70571f94-8285-42ae-bcdc-bbf5cfbd9035"}, "type": "BoxZoomTool", "id": "70571f94-8285-42ae-bcdc-bbf5cfbd9035"}, {"attributes": {"plot": {"subtype": "Chart", "type": "Plot", "id": "c9357378-031f-42ca-9645-3dd61291da0d"}, "tags": [], "doc": null, "id": "c5eeae5a-ae67-4f20-8298-76b2f3b94932"}, "type": "PreviewSaveTool", "id": "c5eeae5a-ae67-4f20-8298-76b2f3b94932"}, {"attributes": {"line_color": {"value": "white"}, "fill_color": {"value": "#5ab738"}, "tags": [], "doc": null, "fill_alpha": {"value": 0.7}, "height": {"units": "data", "field": "json"}, "width": {"units": "data", "field": "width_cat"}, "y": {"field": "midjson"}, "x": {"field": "catjson"}, "id": "d4bfb34b-3cc3-4ec1-9405-80c978c3214d"}, "type": "Rect", "id": "d4bfb34b-3cc3-4ec1-9405-80c978c3214d"}, {"attributes": {"column_names": ["width_cat", "midujson", "cPickle", "catcPickle", "catjson", "stackedjson", "midcPickle", "ujson", "json", "stackedcPickle", "cat", "width", "zero", "catujson", "midmsgpack", "msgpack", "catmsgpack", "stackedmsgpack", "stackedujson", "midjson"], "tags": [], "doc": null, "selected": {"2d": {"indices": []}, "1d": {"indices": []}, "0d": {"indices": [], "flag": false}}, "callback": null, "data": {"width_cat": [0.2, 0.2], "midujson": [95.5, 960.0], "cPickle": [853, 8660], "catcPickle": ["10,000:0.2", "100,000:0.2"], "catjson": ["10,000:0.4", "100,000:0.4"], "stackedjson": [1453.0, 14710.0], "midcPickle": [426.5, 4330.0], "ujson": [191, 1920], "midjson": [600.0, 6050.0], "catujson": ["10,000:0.6", "100,000:0.6"], "json": [1200, 12100], "cat": ["10,000", "100,000"], "width": [0.8, 0.8], "stackedcPickle": [426.5, 4330.0], "stackedmsgpack": [2285.45, 23105.5], "midmsgpack": [41.45, 425.5], "msgpack": [82.9, 851.0], "catmsgpack": ["10,000:0.8", "100,000:0.8"], "zero": [2326.9, 23531.0], "stackedujson": [2148.5, 21720.0]}, "id": "379e784a-b6ae-45d6-a830-9a19cec5d0b2"}, "type": "ColumnDataSource", "id": "379e784a-b6ae-45d6-a830-9a19cec5d0b2"}, {"attributes": {"doc": null, "id": "0ea6c8b9-01d1-4588-b9ef-db28bca9b09f", "tags": []}, "type": "BasicTickFormatter", "id": "0ea6c8b9-01d1-4588-b9ef-db28bca9b09f"}, {"attributes": {"plot": {"subtype": "Chart", "type": "Plot", "id": "c9357378-031f-42ca-9645-3dd61291da0d"}, "tags": [], "doc": null, "id": "6963e0c5-6997-4313-beb4-6810a961f89e"}, "type": "HelpTool", "id": "6963e0c5-6997-4313-beb4-6810a961f89e"}, {"attributes": {"callback": null, "factors": ["10,000", "100,000"], "doc": null, "tags": [], "id": "83476b5a-4d07-4be0-81f9-faca040844dd"}, "type": "FactorRange", "id": "83476b5a-4d07-4be0-81f9-faca040844dd"}, {"attributes": {"plot": {"subtype": "Chart", "type": "Plot", "id": "c9357378-031f-42ca-9645-3dd61291da0d"}, "dimensions": ["width", "height"], "tags": [], "doc": null, "id": "84073145-3b0e-409d-9bca-4c63985b4c86"}, "type": "WheelZoomTool", "id": "84073145-3b0e-409d-9bca-4c63985b4c86"}, {"attributes": {"end": 13310.000000000002, "callback": null, "doc": null, "tags": [], "start": 0, "id": "dfc2dab2-ef2d-4aed-9c9a-04802cc76a0a"}, "type": "Range1d", "id": "dfc2dab2-ef2d-4aed-9c9a-04802cc76a0a"}, {"attributes": {"plot": {"subtype": "Chart", "type": "Plot", "id": "c9357378-031f-42ca-9645-3dd61291da0d"}, "orientation": "top_left", "tags": [], "doc": null, "label_text_font_size": {"value": "20pt"}, "id": "ad7bd8bc-602c-4c5d-8b04-efd4d05b1d6c", "legends": [["cPickle", [{"type": "GlyphRenderer", "id": "5cf89ab6-613f-457e-b6f5-f84c6ce688e4"}]], ["json", [{"type": "GlyphRenderer", "id": "07436c0f-da91-4034-ba98-a1ab388383d1"}]], ["ujson", [{"type": "GlyphRenderer", "id": "8e0b96d5-8a75-41bc-bc9d-7d5cb23f298b"}]], ["msgpack", [{"type": "GlyphRenderer", "id": "83b82bf0-ffa8-4680-a78e-b0dedc313a52"}]]]}, "type": "Legend", "id": "ad7bd8bc-602c-4c5d-8b04-efd4d05b1d6c"}, {"attributes": {"line_color": {"value": "white"}, "fill_color": {"value": "#f22c40"}, "tags": [], "doc": null, "fill_alpha": {"value": 0.7}, "height": {"units": "data", "field": "cPickle"}, "width": {"units": "data", "field": "width_cat"}, "y": {"field": "midcPickle"}, "x": {"field": "catcPickle"}, "id": "dd2db34a-bc36-431f-9a15-b999ebc1ab53"}, "type": "Rect", "id": "dd2db34a-bc36-431f-9a15-b999ebc1ab53"}, {"attributes": {"tags": [], "doc": null, "mantissas": [2, 5, 10], "id": "c95ceae7-c045-4d1f-a9a6-fbaa88aed5d2"}, "type": "BasicTicker", "id": "c95ceae7-c045-4d1f-a9a6-fbaa88aed5d2"}, {"attributes": {"nonselection_glyph": null, "data_source": {"type": "ColumnDataSource", "id": "379e784a-b6ae-45d6-a830-9a19cec5d0b2"}, "tags": [], "doc": null, "selection_glyph": null, "id": "07436c0f-da91-4034-ba98-a1ab388383d1", "glyph": {"type": "Rect", "id": "d4bfb34b-3cc3-4ec1-9405-80c978c3214d"}}, "type": "GlyphRenderer", "id": "07436c0f-da91-4034-ba98-a1ab388383d1"}, {"attributes": {"line_color": {"value": "white"}, "fill_color": {"value": "#407ee7"}, "tags": [], "doc": null, "fill_alpha": {"value": 0.7}, "height": {"units": "data", "field": "ujson"}, "width": {"units": "data", "field": "width_cat"}, "y": {"field": "midujson"}, "x": {"field": "catujson"}, "id": "34bf9356-7cc0-41c7-a5ab-388e0064f5ce"}, "type": "Rect", "id": "34bf9356-7cc0-41c7-a5ab-388e0064f5ce"}, {"attributes": {"nonselection_glyph": null, "data_source": {"type": "ColumnDataSource", "id": "379e784a-b6ae-45d6-a830-9a19cec5d0b2"}, "tags": [], "doc": null, "selection_glyph": null, "id": "8e0b96d5-8a75-41bc-bc9d-7d5cb23f298b", "glyph": {"type": "Rect", "id": "34bf9356-7cc0-41c7-a5ab-388e0064f5ce"}}, "type": "GlyphRenderer", "id": "8e0b96d5-8a75-41bc-bc9d-7d5cb23f298b"}, {"attributes": {"line_color": {"value": "white"}, "fill_color": {"value": "#df5320"}, "tags": [], "doc": null, "fill_alpha": {"value": 0.7}, "height": {"units": "data", "field": "msgpack"}, "width": {"units": "data", "field": "width_cat"}, "y": {"field": "midmsgpack"}, "x": {"field": "catmsgpack"}, "id": "a7c4786d-df71-4f7d-90bf-3bb6b09bf3cc"}, "type": "Rect", "id": "a7c4786d-df71-4f7d-90bf-3bb6b09bf3cc"}, {"attributes": {"nonselection_glyph": null, "data_source": {"type": "ColumnDataSource", "id": "379e784a-b6ae-45d6-a830-9a19cec5d0b2"}, "tags": [], "doc": null, "selection_glyph": null, "id": "83b82bf0-ffa8-4680-a78e-b0dedc313a52", "glyph": {"type": "Rect", "id": "a7c4786d-df71-4f7d-90bf-3bb6b09bf3cc"}}, "type": "GlyphRenderer", "id": "83b82bf0-ffa8-4680-a78e-b0dedc313a52"}, {"attributes": {"plot": {"subtype": "Chart", "type": "Plot", "id": "c9357378-031f-42ca-9645-3dd61291da0d"}, "dimensions": ["width", "height"], "tags": [], "doc": null, "id": "f35e42e9-88c0-48f5-a235-5fb5e39653a5"}, "type": "PanTool", "id": "f35e42e9-88c0-48f5-a235-5fb5e39653a5"}, {"subtype": "Chart", "type": "Plot", "id": "c9357378-031f-42ca-9645-3dd61291da0d", "attributes": {"x_range": {"type": "FactorRange", "id": "83476b5a-4d07-4be0-81f9-faca040844dd"}, "right": [], "above": [], "tags": [], "tools": [{"type": "PanTool", "id": "f35e42e9-88c0-48f5-a235-5fb5e39653a5"}, {"type": "WheelZoomTool", "id": "84073145-3b0e-409d-9bca-4c63985b4c86"}, {"type": "BoxZoomTool", "id": "70571f94-8285-42ae-bcdc-bbf5cfbd9035"}, {"type": "PreviewSaveTool", "id": "c5eeae5a-ae67-4f20-8298-76b2f3b94932"}, {"type": "ResizeTool", "id": "ba150d8c-b50a-44f2-8bc8-93ea44e06949"}, {"type": "ResetTool", "id": "1aaabad2-8d15-4466-b902-8a016654bfa0"}, {"type": "HelpTool", "id": "6963e0c5-6997-4313-beb4-6810a961f89e"}], "title": "Dumps operation time", "renderers": [{"type": "CategoricalAxis", "id": "64a17d90-f656-4f2d-a903-f4d4dbe8749b"}, {"type": "LinearAxis", "id": "85491035-da09-429e-96e3-055ec0006d11"}, {"type": "Grid", "id": "3fc12681-7856-43bf-8d0c-d9f5a778435d"}, {"type": "GlyphRenderer", "id": "5cf89ab6-613f-457e-b6f5-f84c6ce688e4"}, {"type": "GlyphRenderer", "id": "07436c0f-da91-4034-ba98-a1ab388383d1"}, {"type": "GlyphRenderer", "id": "8e0b96d5-8a75-41bc-bc9d-7d5cb23f298b"}, {"type": "GlyphRenderer", "id": "83b82bf0-ffa8-4680-a78e-b0dedc313a52"}, {"type": "Legend", "id": "ad7bd8bc-602c-4c5d-8b04-efd4d05b1d6c"}], "plot_width": 600, "extra_y_ranges": {}, "extra_x_ranges": {}, "tool_events": {"type": "ToolEvents", "id": "7b8b3ec1-f831-4253-8122-9a441684b418"}, "plot_height": 400, "doc": null, "id": "c9357378-031f-42ca-9645-3dd61291da0d", "y_range": {"type": "Range1d", "id": "dfc2dab2-ef2d-4aed-9c9a-04802cc76a0a"}, "below": [{"type": "CategoricalAxis", "id": "64a17d90-f656-4f2d-a903-f4d4dbe8749b"}], "left": [{"type": "LinearAxis", "id": "85491035-da09-429e-96e3-055ec0006d11"}]}}, {"attributes": {"plot": {"subtype": "Chart", "type": "Plot", "id": "c9357378-031f-42ca-9645-3dd61291da0d"}, "tags": [], "ticker": {"type": "CategoricalTicker", "id": "e4860faf-3a46-4bc0-95bb-ebac837f0372"}, "major_label_text_baseline": "hanging", "doc": null, "major_label_orientation": 0, "axis_label": "Number of elements", "formatter": {"type": "CategoricalTickFormatter", "id": "f8f2fc3a-6f67-4a47-a5ea-6726c515e0dc"}, "major_label_text_font_size": {"value": "20pt"}, "id": "64a17d90-f656-4f2d-a903-f4d4dbe8749b"}, "type": "CategoricalAxis", "id": "64a17d90-f656-4f2d-a903-f4d4dbe8749b"}, {"attributes": {"plot": {"subtype": "Chart", "type": "Plot", "id": "c9357378-031f-42ca-9645-3dd61291da0d"}, "tags": [], "doc": null, "id": "ba150d8c-b50a-44f2-8bc8-93ea44e06949"}, "type": "ResizeTool", "id": "ba150d8c-b50a-44f2-8bc8-93ea44e06949"}, {"attributes": {"geometries": [], "tags": [], "doc": null, "id": "7b8b3ec1-f831-4253-8122-9a441684b418"}, "type": "ToolEvents", "id": "7b8b3ec1-f831-4253-8122-9a441684b418"}, {"attributes": {"doc": null, "id": "e4860faf-3a46-4bc0-95bb-ebac837f0372", "tags": []}, "type": "CategoricalTicker", "id": "e4860faf-3a46-4bc0-95bb-ebac837f0372"}, {"attributes": {"plot": {"subtype": "Chart", "type": "Plot", "id": "c9357378-031f-42ca-9645-3dd61291da0d"}, "tags": [], "ticker": {"type": "BasicTicker", "id": "c95ceae7-c045-4d1f-a9a6-fbaa88aed5d2"}, "doc": null, "axis_label": "Time (ms)", "formatter": {"type": "BasicTickFormatter", "id": "0ea6c8b9-01d1-4588-b9ef-db28bca9b09f"}, "major_label_text_font_size": {"value": "20pt"}, "id": "85491035-da09-429e-96e3-055ec0006d11"}, "type": "LinearAxis", "id": "85491035-da09-429e-96e3-055ec0006d11"}, {"attributes": {"doc": null, "id": "f8f2fc3a-6f67-4a47-a5ea-6726c515e0dc", "tags": []}, "type": "CategoricalTickFormatter", "id": "f8f2fc3a-6f67-4a47-a5ea-6726c515e0dc"}, {"attributes": {"plot": {"subtype": "Chart", "type": "Plot", "id": "c9357378-031f-42ca-9645-3dd61291da0d"}, "tags": [], "doc": null, "id": "1aaabad2-8d15-4466-b902-8a016654bfa0"}, "type": "ResetTool", "id": "1aaabad2-8d15-4466-b902-8a016654bfa0"}];
        Bokeh.load_models(all_models);
        var plots = [{'modeltype': 'Plot', 'elementid': '#3deb6733-b07f-4dcc-bc01-0bd1e12513dd', 'modelid': 'c9357378-031f-42ca-9645-3dd61291da0d'}];
        for (idx in plots) {
            var plot = plots[idx];
            var model = Bokeh.Collections(plot.modeltype).get(plot.modelid);
            Bokeh.logger.info('Realizing plot:')
            Bokeh.logger.info(' - modeltype: ' + plot.modeltype);
            Bokeh.logger.info(' - modelid: ' + plot.modelid);
            Bokeh.logger.info(' - elementid: ' + plot.elementid);
            var view = new model.default_view({
                model: model,
                el: plot.elementid
            });
            Bokeh.index[plot.modelid] = view;
        }
    });
</script>

<div class="plotdiv" id="3deb6733-b07f-4dcc-bc01-0bd1e12513dd"></div>

The plot only shows data with the size of list: `10,000`, and `100,000`. The performance of these libraries for small list is so fast so that plotting them together with the big list data will not make sense.

The performance of `msgpack` is an order of magnitude against `cPickle` & `json`; and at least 2 times faster then `ujson`. The performance is pretty consistent for various size of the test list.

# Loads function performance

| Size of list | cPickle |  json | ujson | msgpack |
|:------------:|:-------:|:-----:|:-----:|:-------:|
|      10      |  0.712  | 0.604 | 0.179 | 0.073   |
|      100     |   7.25  |  6.46 | 2.37  | 0.82    |
|     1,000    |   73.7  |  67.5 | 27.2  | 11.1    |
|    10,000    |   764   |  699  | 287   | 115     |
|    100,000   |   7710  |  7130 | 2840  | 1190    |

<script type="text/javascript">
    Bokeh.$(function() {
        var all_models = [{"subtype": "Chart", "type": "Plot", "id": "6d838b05-22e1-43ff-b225-a21aba456266", "attributes": {"x_range": {"type": "FactorRange", "id": "f799004c-cf52-461b-821a-2fae722443e6"}, "right": [], "above": [], "tags": [], "tools": [{"type": "PanTool", "id": "816d9ec5-a555-4b6f-9d8a-354c44709cc6"}, {"type": "WheelZoomTool", "id": "68a10160-74c3-40c6-9e75-67c383f5f541"}, {"type": "BoxZoomTool", "id": "13fb7387-0194-4afd-8565-4891c9cebe2d"}, {"type": "PreviewSaveTool", "id": "dddd163e-6d0d-4adb-a60a-c8452f27778e"}, {"type": "ResizeTool", "id": "2a4325e7-f5d2-459b-bd4d-9a76854b913d"}, {"type": "ResetTool", "id": "0fe66323-f6de-4358-9b0c-a55aee45d1f2"}, {"type": "HelpTool", "id": "76207e11-d105-43fc-9ced-4c3ed4575577"}], "title": "Loads operation time", "renderers": [{"type": "CategoricalAxis", "id": "6086a417-e4a8-4d02-912e-b28528a0811b"}, {"type": "LinearAxis", "id": "9e81be31-65df-4dbd-af65-771d8f694e0b"}, {"type": "Grid", "id": "62d881ba-ea0c-4963-909a-114fef3d39e0"}, {"type": "GlyphRenderer", "id": "11fc547a-d66a-43d4-813c-4c28b98ec9e4"}, {"type": "GlyphRenderer", "id": "cb8a6c16-ee06-4fdb-916d-a4ba08cffb3b"}, {"type": "GlyphRenderer", "id": "32275688-ebd4-4d0c-80a5-91b4150eb0fc"}, {"type": "GlyphRenderer", "id": "032f0a06-845e-4285-b00e-0f6fe83b7680"}, {"type": "Legend", "id": "1f6ab8d6-4a18-48fd-b647-0554f1f782fb"}], "plot_width": 600, "extra_y_ranges": {}, "extra_x_ranges": {}, "tool_events": {"type": "ToolEvents", "id": "d73e7ad1-6b33-4819-8b01-41e138c1b478"}, "plot_height": 400, "doc": null, "id": "6d838b05-22e1-43ff-b225-a21aba456266", "y_range": {"type": "Range1d", "id": "f77b10fe-9d3a-4e68-99e7-8c2d14b15aa8"}, "below": [{"type": "CategoricalAxis", "id": "6086a417-e4a8-4d02-912e-b28528a0811b"}], "left": [{"type": "LinearAxis", "id": "9e81be31-65df-4dbd-af65-771d8f694e0b"}]}}, {"attributes": {"line_color": {"value": "white"}, "fill_color": {"value": "#df5320"}, "tags": [], "doc": null, "fill_alpha": {"value": 0.7}, "height": {"units": "data", "field": "msgpack"}, "width": {"units": "data", "field": "width_cat"}, "y": {"field": "midmsgpack"}, "x": {"field": "catmsgpack"}, "id": "388a261c-29f3-4aaf-a076-fc911d213506"}, "type": "Rect", "id": "388a261c-29f3-4aaf-a076-fc911d213506"}, {"attributes": {"doc": null, "id": "6d3e4392-0685-4ba0-adae-c11af975a315", "tags": []}, "type": "CategoricalTickFormatter", "id": "6d3e4392-0685-4ba0-adae-c11af975a315"}, {"attributes": {"plot": {"subtype": "Chart", "type": "Plot", "id": "6d838b05-22e1-43ff-b225-a21aba456266"}, "orientation": "top_left", "tags": [], "doc": null, "id": "1f6ab8d6-4a18-48fd-b647-0554f1f782fb", "legends": [["cPickle", [{"type": "GlyphRenderer", "id": "11fc547a-d66a-43d4-813c-4c28b98ec9e4"}]], ["json", [{"type": "GlyphRenderer", "id": "cb8a6c16-ee06-4fdb-916d-a4ba08cffb3b"}]], ["ujson", [{"type": "GlyphRenderer", "id": "32275688-ebd4-4d0c-80a5-91b4150eb0fc"}]], ["msgpack", [{"type": "GlyphRenderer", "id": "032f0a06-845e-4285-b00e-0f6fe83b7680"}]]]}, "type": "Legend", "id": "1f6ab8d6-4a18-48fd-b647-0554f1f782fb"}, {"attributes": {"plot": {"subtype": "Chart", "type": "Plot", "id": "6d838b05-22e1-43ff-b225-a21aba456266"}, "tags": [], "doc": null, "major_label_orientation": 0.7853981633974483, "axis_label": "Number of elements", "formatter": {"type": "CategoricalTickFormatter", "id": "6d3e4392-0685-4ba0-adae-c11af975a315"}, "ticker": {"type": "CategoricalTicker", "id": "d81e5061-e660-4432-ab66-13d8d80c5fb7"}, "id": "6086a417-e4a8-4d02-912e-b28528a0811b"}, "type": "CategoricalAxis", "id": "6086a417-e4a8-4d02-912e-b28528a0811b"}, {"attributes": {"column_names": ["width_cat", "midujson", "cPickle", "catcPickle", "catjson", "stackedjson", "midcPickle", "ujson", "json", "stackedcPickle", "cat", "width", "zero", "catujson", "midmsgpack", "msgpack", "catmsgpack", "stackedmsgpack", "stackedujson", "midjson"], "tags": [], "doc": null, "selected": {"2d": {"indices": []}, "1d": {"indices": []}, "0d": {"indices": [], "flag": false}}, "callback": null, "data": {"width_cat": [0.2, 0.2], "midujson": [143.5, 1420.0], "cPickle": [764, 7710], "catcPickle": ["10,000:0.2", "100,000:0.2"], "catjson": ["10,000:0.4", "100,000:0.4"], "stackedjson": [1113.5, 11275.0], "midcPickle": [382.0, 3855.0], "ujson": [287, 2840], "midjson": [349.5, 3565.0], "catujson": ["10,000:0.6", "100,000:0.6"], "json": [699, 7130], "cat": ["10,000", "100,000"], "width": [0.8, 0.8], "stackedcPickle": [382.0, 3855.0], "stackedmsgpack": [1807.5, 18275.0], "midmsgpack": [57.5, 595.0], "msgpack": [115, 1190], "catmsgpack": ["10,000:0.8", "100,000:0.8"], "zero": [1865.0, 18870.0], "stackedujson": [1606.5, 16260.0]}, "id": "df9345db-9808-4005-8280-25b0cb7c5ff3"}, "type": "ColumnDataSource", "id": "df9345db-9808-4005-8280-25b0cb7c5ff3"}, {"attributes": {"doc": null, "id": "054a260e-1bbd-46c7-b843-4f7d907cd4b5", "tags": []}, "type": "BasicTickFormatter", "id": "054a260e-1bbd-46c7-b843-4f7d907cd4b5"}, {"attributes": {"nonselection_glyph": null, "data_source": {"type": "ColumnDataSource", "id": "df9345db-9808-4005-8280-25b0cb7c5ff3"}, "tags": [], "doc": null, "selection_glyph": null, "id": "cb8a6c16-ee06-4fdb-916d-a4ba08cffb3b", "glyph": {"type": "Rect", "id": "c9c421e1-c6a8-43cb-b5db-0703042d31a9"}}, "type": "GlyphRenderer", "id": "cb8a6c16-ee06-4fdb-916d-a4ba08cffb3b"}, {"attributes": {"doc": null, "id": "d81e5061-e660-4432-ab66-13d8d80c5fb7", "tags": []}, "type": "CategoricalTicker", "id": "d81e5061-e660-4432-ab66-13d8d80c5fb7"}, {"attributes": {"nonselection_glyph": null, "data_source": {"type": "ColumnDataSource", "id": "df9345db-9808-4005-8280-25b0cb7c5ff3"}, "tags": [], "doc": null, "selection_glyph": null, "id": "11fc547a-d66a-43d4-813c-4c28b98ec9e4", "glyph": {"type": "Rect", "id": "8497851f-57b5-40f0-b999-0302d96678f1"}}, "type": "GlyphRenderer", "id": "11fc547a-d66a-43d4-813c-4c28b98ec9e4"}, {"attributes": {"line_color": {"value": "white"}, "fill_color": {"value": "#f22c40"}, "tags": [], "doc": null, "fill_alpha": {"value": 0.7}, "height": {"units": "data", "field": "cPickle"}, "width": {"units": "data", "field": "width_cat"}, "y": {"field": "midcPickle"}, "x": {"field": "catcPickle"}, "id": "8497851f-57b5-40f0-b999-0302d96678f1"}, "type": "Rect", "id": "8497851f-57b5-40f0-b999-0302d96678f1"}, {"attributes": {"plot": {"subtype": "Chart", "type": "Plot", "id": "6d838b05-22e1-43ff-b225-a21aba456266"}, "dimensions": ["width", "height"], "tags": [], "doc": null, "id": "816d9ec5-a555-4b6f-9d8a-354c44709cc6"}, "type": "PanTool", "id": "816d9ec5-a555-4b6f-9d8a-354c44709cc6"}, {"attributes": {"end": 8481.0, "callback": null, "doc": null, "tags": [], "start": 0, "id": "f77b10fe-9d3a-4e68-99e7-8c2d14b15aa8"}, "type": "Range1d", "id": "f77b10fe-9d3a-4e68-99e7-8c2d14b15aa8"}, {"attributes": {"plot": {"subtype": "Chart", "type": "Plot", "id": "6d838b05-22e1-43ff-b225-a21aba456266"}, "tags": [], "doc": null, "id": "0fe66323-f6de-4358-9b0c-a55aee45d1f2"}, "type": "ResetTool", "id": "0fe66323-f6de-4358-9b0c-a55aee45d1f2"}, {"attributes": {"line_color": {"value": "white"}, "fill_color": {"value": "#407ee7"}, "tags": [], "doc": null, "fill_alpha": {"value": 0.7}, "height": {"units": "data", "field": "ujson"}, "width": {"units": "data", "field": "width_cat"}, "y": {"field": "midujson"}, "x": {"field": "catujson"}, "id": "4205e6d3-6c0a-4ccf-b1a2-360b4e2c3009"}, "type": "Rect", "id": "4205e6d3-6c0a-4ccf-b1a2-360b4e2c3009"}, {"attributes": {"callback": null, "factors": ["10,000", "100,000"], "doc": null, "tags": [], "id": "f799004c-cf52-461b-821a-2fae722443e6"}, "type": "FactorRange", "id": "f799004c-cf52-461b-821a-2fae722443e6"}, {"attributes": {"nonselection_glyph": null, "data_source": {"type": "ColumnDataSource", "id": "df9345db-9808-4005-8280-25b0cb7c5ff3"}, "tags": [], "doc": null, "selection_glyph": null, "id": "032f0a06-845e-4285-b00e-0f6fe83b7680", "glyph": {"type": "Rect", "id": "388a261c-29f3-4aaf-a076-fc911d213506"}}, "type": "GlyphRenderer", "id": "032f0a06-845e-4285-b00e-0f6fe83b7680"}, {"attributes": {"geometries": [], "tags": [], "doc": null, "id": "d73e7ad1-6b33-4819-8b01-41e138c1b478"}, "type": "ToolEvents", "id": "d73e7ad1-6b33-4819-8b01-41e138c1b478"}, {"attributes": {"line_color": {"value": "white"}, "fill_color": {"value": "#5ab738"}, "tags": [], "doc": null, "fill_alpha": {"value": 0.7}, "height": {"units": "data", "field": "json"}, "width": {"units": "data", "field": "width_cat"}, "y": {"field": "midjson"}, "x": {"field": "catjson"}, "id": "c9c421e1-c6a8-43cb-b5db-0703042d31a9"}, "type": "Rect", "id": "c9c421e1-c6a8-43cb-b5db-0703042d31a9"}, {"attributes": {"plot": {"subtype": "Chart", "type": "Plot", "id": "6d838b05-22e1-43ff-b225-a21aba456266"}, "tags": [], "doc": null, "id": "dddd163e-6d0d-4adb-a60a-c8452f27778e"}, "type": "PreviewSaveTool", "id": "dddd163e-6d0d-4adb-a60a-c8452f27778e"}, {"attributes": {"plot": {"subtype": "Chart", "type": "Plot", "id": "6d838b05-22e1-43ff-b225-a21aba456266"}, "tags": [], "doc": null, "axis_label": "Time (ms)", "formatter": {"type": "BasicTickFormatter", "id": "054a260e-1bbd-46c7-b843-4f7d907cd4b5"}, "ticker": {"type": "BasicTicker", "id": "e5ce7d4f-b12b-4ea2-bdd1-394ac2ee5cc6"}, "id": "9e81be31-65df-4dbd-af65-771d8f694e0b"}, "type": "LinearAxis", "id": "9e81be31-65df-4dbd-af65-771d8f694e0b"}, {"attributes": {"plot": {"subtype": "Chart", "type": "Plot", "id": "6d838b05-22e1-43ff-b225-a21aba456266"}, "tags": [], "doc": null, "id": "2a4325e7-f5d2-459b-bd4d-9a76854b913d"}, "type": "ResizeTool", "id": "2a4325e7-f5d2-459b-bd4d-9a76854b913d"}, {"attributes": {"plot": {"subtype": "Chart", "type": "Plot", "id": "6d838b05-22e1-43ff-b225-a21aba456266"}, "tags": [], "doc": null, "dimension": 1, "ticker": {"type": "BasicTicker", "id": "e5ce7d4f-b12b-4ea2-bdd1-394ac2ee5cc6"}, "id": "62d881ba-ea0c-4963-909a-114fef3d39e0"}, "type": "Grid", "id": "62d881ba-ea0c-4963-909a-114fef3d39e0"}, {"attributes": {"plot": {"subtype": "Chart", "type": "Plot", "id": "6d838b05-22e1-43ff-b225-a21aba456266"}, "tags": [], "doc": null, "id": "76207e11-d105-43fc-9ced-4c3ed4575577"}, "type": "HelpTool", "id": "76207e11-d105-43fc-9ced-4c3ed4575577"}, {"attributes": {"plot": {"subtype": "Chart", "type": "Plot", "id": "6d838b05-22e1-43ff-b225-a21aba456266"}, "dimensions": ["width", "height"], "tags": [], "doc": null, "id": "13fb7387-0194-4afd-8565-4891c9cebe2d"}, "type": "BoxZoomTool", "id": "13fb7387-0194-4afd-8565-4891c9cebe2d"}, {"attributes": {"plot": {"subtype": "Chart", "type": "Plot", "id": "6d838b05-22e1-43ff-b225-a21aba456266"}, "dimensions": ["width", "height"], "tags": [], "doc": null, "id": "68a10160-74c3-40c6-9e75-67c383f5f541"}, "type": "WheelZoomTool", "id": "68a10160-74c3-40c6-9e75-67c383f5f541"}, {"attributes": {"nonselection_glyph": null, "data_source": {"type": "ColumnDataSource", "id": "df9345db-9808-4005-8280-25b0cb7c5ff3"}, "tags": [], "doc": null, "selection_glyph": null, "id": "32275688-ebd4-4d0c-80a5-91b4150eb0fc", "glyph": {"type": "Rect", "id": "4205e6d3-6c0a-4ccf-b1a2-360b4e2c3009"}}, "type": "GlyphRenderer", "id": "32275688-ebd4-4d0c-80a5-91b4150eb0fc"}, {"attributes": {"tags": [], "doc": null, "mantissas": [2, 5, 10], "id": "e5ce7d4f-b12b-4ea2-bdd1-394ac2ee5cc6"}, "type": "BasicTicker", "id": "e5ce7d4f-b12b-4ea2-bdd1-394ac2ee5cc6"}];
        Bokeh.load_models(all_models);
        var plots = [{'modeltype': 'Plot', 'elementid': '#8c77432f-dbb8-49a7-ace8-a40587881f56', 'modelid': '6d838b05-22e1-43ff-b225-a21aba456266'}];
        for (idx in plots) {
            var plot = plots[idx];
            var model = Bokeh.Collections(plot.modeltype).get(plot.modelid);
            Bokeh.logger.info('Realizing plot:')
            Bokeh.logger.info(' - modeltype: ' + plot.modeltype);
            Bokeh.logger.info(' - modelid: ' + plot.modelid);
            Bokeh.logger.info(' - elementid: ' + plot.elementid);
            var view = new model.default_view({
                model: model,
                el: plot.elementid
            });
            Bokeh.index[plot.modelid] = view;
        }
    });
</script>

<div class="plotdiv" id="8c77432f-dbb8-49a7-ace8-a40587881f56"></div>

The performance of `msgpack` is still an order of magnitude against `cPickle` & `json`; and at least 2 times faster then `ujson`. The time it takes for deserializing is a bit longer than serializing for `msgpack` and `ujson`. On the contrary, `cPickle` and `json` deserialize faster than serialize.

# Size of the serialized message

The size of the serialized message from these libraries is measured in *KB*

| Size of list | cPickle |   json  |  ujson  | msgpack |
|:------------:|:-------:|:-------:|:-------:|:-------:|
|      10      |    32   |    32   | 28      | 16      |
|      100     |   300   |   320   | 244     | 140     |
|     1,000    |  2,968  |  3,168  | 2,404   | 1,372   |
|    10,000    |  29,704 |  31,676 | 24,016  | 13,692  |
|    100,000   | 297,312 | 316,744 | 240,132 | 136,892 |

<script type="text/javascript">
    Bokeh.$(function() {
        var all_models = [{"attributes": {"plot": {"subtype": "Chart", "type": "Plot", "id": "b68d47b2-70e4-4462-a9f1-af0154a9b5e1"}, "tags": [], "ticker": {"type": "BasicTicker", "id": "812be5c5-428e-4f8a-b610-373070ba11ce"}, "major_label_text_baseline": "hanging", "doc": null, "axis_label": "Size (MB)", "formatter": {"type": "BasicTickFormatter", "id": "fe039190-3e26-42ae-a7f7-68a25a2f2947"}, "major_label_text_font_size": {"value": "20pt"}, "id": "b99730fc-b43e-42ed-9001-9e3d68aabe4e"}, "type": "LinearAxis", "id": "b99730fc-b43e-42ed-9001-9e3d68aabe4e"}, {"attributes": {"callback": null, "factors": ["cPickle", "json", "ujson", "msgpack"], "doc": null, "tags": [], "id": "4ca24f8d-7388-4431-98ce-084bd3de420f"}, "type": "FactorRange", "id": "4ca24f8d-7388-4431-98ce-084bd3de420f"}, {"attributes": {"plot": {"subtype": "Chart", "type": "Plot", "id": "b68d47b2-70e4-4462-a9f1-af0154a9b5e1"}, "tags": [], "doc": null, "id": "9038bb97-b9d7-4c78-bbb0-449af38ae065"}, "type": "HelpTool", "id": "9038bb97-b9d7-4c78-bbb0-449af38ae065"}, {"attributes": {"column_names": ["width_cat", "0", "cat", "cat0", "width", "zero", "stacked0", "mid0"], "tags": [], "doc": null, "selected": {"2d": {"indices": []}, "1d": {"indices": []}, "0d": {"indices": [], "flag": false}}, "callback": null, "data": {"width_cat": [0.2, 0.2, 0.2, 0.2], "0": [290, 309, 234, 133], "cat": ["cPickle", "json", "ujson", "msgpack"], "cat0": ["cPickle:0.5", "json:0.5", "ujson:0.5", "msgpack:0.5"], "width": [0.8, 0.8, 0.8, 0.8], "zero": [290.0, 309.0, 234.0, 133.0], "stacked0": [145.0, 154.5, 117.0, 66.5], "mid0": [145.0, 154.5, 117.0, 66.5]}, "id": "0e5cab0d-09d0-4ba1-892f-9e98c7aa8e72"}, "type": "ColumnDataSource", "id": "0e5cab0d-09d0-4ba1-892f-9e98c7aa8e72"}, {"attributes": {"doc": null, "id": "10be68f6-72fc-44c3-a440-bfbf8b188015", "tags": []}, "type": "CategoricalTicker", "id": "10be68f6-72fc-44c3-a440-bfbf8b188015"}, {"attributes": {"plot": {"subtype": "Chart", "type": "Plot", "id": "b68d47b2-70e4-4462-a9f1-af0154a9b5e1"}, "dimensions": ["width", "height"], "tags": [], "doc": null, "id": "fc8689d1-8680-495e-a3db-05a283c9c9a7"}, "type": "BoxZoomTool", "id": "fc8689d1-8680-495e-a3db-05a283c9c9a7"}, {"attributes": {"plot": {"subtype": "Chart", "type": "Plot", "id": "b68d47b2-70e4-4462-a9f1-af0154a9b5e1"}, "tags": [], "doc": null, "id": "dc2a5d62-c7ba-4b83-8f76-e5b3a2c6df92"}, "type": "PreviewSaveTool", "id": "dc2a5d62-c7ba-4b83-8f76-e5b3a2c6df92"}, {"attributes": {"end": 339.90000000000003, "callback": null, "doc": null, "tags": [], "start": 0, "id": "cd7a4729-9ba2-4682-9316-641a1fce4407"}, "type": "Range1d", "id": "cd7a4729-9ba2-4682-9316-641a1fce4407"}, {"attributes": {"plot": {"subtype": "Chart", "type": "Plot", "id": "b68d47b2-70e4-4462-a9f1-af0154a9b5e1"}, "tags": [], "ticker": {"type": "CategoricalTicker", "id": "10be68f6-72fc-44c3-a440-bfbf8b188015"}, "major_label_text_baseline": "hanging", "doc": null, "major_label_orientation": 0, "axis_label": "", "formatter": {"type": "CategoricalTickFormatter", "id": "9b1ed3cc-ca69-47aa-870c-059b67b0601c"}, "major_label_text_font_size": {"value": "20pt"}, "id": "efb1846b-8ce6-4424-a692-9dea3d5f42fb"}, "type": "CategoricalAxis", "id": "efb1846b-8ce6-4424-a692-9dea3d5f42fb"}, {"attributes": {"tags": [], "doc": null, "mantissas": [2, 5, 10], "id": "812be5c5-428e-4f8a-b610-373070ba11ce"}, "type": "BasicTicker", "id": "812be5c5-428e-4f8a-b610-373070ba11ce"}, {"attributes": {"plot": {"subtype": "Chart", "type": "Plot", "id": "b68d47b2-70e4-4462-a9f1-af0154a9b5e1"}, "tags": [], "doc": null, "id": "7fb09b3b-57fe-4932-ab95-08d2edc2bd79"}, "type": "ResizeTool", "id": "7fb09b3b-57fe-4932-ab95-08d2edc2bd79"}, {"attributes": {"plot": {"subtype": "Chart", "type": "Plot", "id": "b68d47b2-70e4-4462-a9f1-af0154a9b5e1"}, "tags": [], "doc": null, "dimension": 1, "ticker": {"type": "BasicTicker", "id": "812be5c5-428e-4f8a-b610-373070ba11ce"}, "id": "f3304ac7-4156-4836-936f-5d03ef2d45d0"}, "type": "Grid", "id": "f3304ac7-4156-4836-936f-5d03ef2d45d0"}, {"attributes": {"plot": {"subtype": "Chart", "type": "Plot", "id": "b68d47b2-70e4-4462-a9f1-af0154a9b5e1"}, "tags": [], "doc": null, "id": "2df16058-ce63-4443-ad1c-0348d162f026"}, "type": "ResetTool", "id": "2df16058-ce63-4443-ad1c-0348d162f026"}, {"attributes": {"nonselection_glyph": null, "data_source": {"type": "ColumnDataSource", "id": "0e5cab0d-09d0-4ba1-892f-9e98c7aa8e72"}, "tags": [], "doc": null, "selection_glyph": null, "id": "6824cdda-fa06-4d9f-afa0-4804a6f99ae3", "glyph": {"type": "Rect", "id": "f744a0a4-696e-4aa2-bbcc-d030bab9c261"}}, "type": "GlyphRenderer", "id": "6824cdda-fa06-4d9f-afa0-4804a6f99ae3"}, {"attributes": {"plot": {"subtype": "Chart", "type": "Plot", "id": "b68d47b2-70e4-4462-a9f1-af0154a9b5e1"}, "dimensions": ["width", "height"], "tags": [], "doc": null, "id": "7f188110-d971-443b-8488-3bbfa48ad8f2"}, "type": "WheelZoomTool", "id": "7f188110-d971-443b-8488-3bbfa48ad8f2"}, {"attributes": {"geometries": [], "tags": [], "doc": null, "id": "c651dc3e-d21e-4c9b-87c3-ed148836b00d"}, "type": "ToolEvents", "id": "c651dc3e-d21e-4c9b-87c3-ed148836b00d"}, {"attributes": {"plot": {"subtype": "Chart", "type": "Plot", "id": "b68d47b2-70e4-4462-a9f1-af0154a9b5e1"}, "dimensions": ["width", "height"], "tags": [], "doc": null, "id": "cd6e5941-7247-4de0-88cc-35e37b8b9674"}, "type": "PanTool", "id": "cd6e5941-7247-4de0-88cc-35e37b8b9674"}, {"subtype": "Chart", "type": "Plot", "id": "b68d47b2-70e4-4462-a9f1-af0154a9b5e1", "attributes": {"x_range": {"type": "FactorRange", "id": "4ca24f8d-7388-4431-98ce-084bd3de420f"}, "right": [], "above": [], "tags": [], "tools": [{"type": "PanTool", "id": "cd6e5941-7247-4de0-88cc-35e37b8b9674"}, {"type": "WheelZoomTool", "id": "7f188110-d971-443b-8488-3bbfa48ad8f2"}, {"type": "BoxZoomTool", "id": "fc8689d1-8680-495e-a3db-05a283c9c9a7"}, {"type": "PreviewSaveTool", "id": "dc2a5d62-c7ba-4b83-8f76-e5b3a2c6df92"}, {"type": "ResizeTool", "id": "7fb09b3b-57fe-4932-ab95-08d2edc2bd79"}, {"type": "ResetTool", "id": "2df16058-ce63-4443-ad1c-0348d162f026"}, {"type": "HelpTool", "id": "9038bb97-b9d7-4c78-bbb0-449af38ae065"}], "title": "Message size", "renderers": [{"type": "CategoricalAxis", "id": "efb1846b-8ce6-4424-a692-9dea3d5f42fb"}, {"type": "LinearAxis", "id": "b99730fc-b43e-42ed-9001-9e3d68aabe4e"}, {"type": "Grid", "id": "f3304ac7-4156-4836-936f-5d03ef2d45d0"}, {"type": "GlyphRenderer", "id": "6824cdda-fa06-4d9f-afa0-4804a6f99ae3"}], "plot_width": 600, "extra_y_ranges": {}, "extra_x_ranges": {}, "tool_events": {"type": "ToolEvents", "id": "c651dc3e-d21e-4c9b-87c3-ed148836b00d"}, "plot_height": 400, "doc": null, "id": "b68d47b2-70e4-4462-a9f1-af0154a9b5e1", "y_range": {"type": "Range1d", "id": "cd7a4729-9ba2-4682-9316-641a1fce4407"}, "below": [{"type": "CategoricalAxis", "id": "efb1846b-8ce6-4424-a692-9dea3d5f42fb"}], "left": [{"type": "LinearAxis", "id": "b99730fc-b43e-42ed-9001-9e3d68aabe4e"}]}}, {"attributes": {"doc": null, "id": "fe039190-3e26-42ae-a7f7-68a25a2f2947", "tags": []}, "type": "BasicTickFormatter", "id": "fe039190-3e26-42ae-a7f7-68a25a2f2947"}, {"attributes": {"line_color": {"value": "white"}, "fill_color": {"value": "#f22c40"}, "tags": [], "doc": null, "fill_alpha": {"value": 0.7}, "height": {"units": "data", "field": "0"}, "width": {"units": "data", "field": "width_cat"}, "y": {"field": "mid0"}, "x": {"field": "cat0"}, "id": "f744a0a4-696e-4aa2-bbcc-d030bab9c261"}, "type": "Rect", "id": "f744a0a4-696e-4aa2-bbcc-d030bab9c261"}, {"attributes": {"doc": null, "id": "9b1ed3cc-ca69-47aa-870c-059b67b0601c", "tags": []}, "type": "CategoricalTickFormatter", "id": "9b1ed3cc-ca69-47aa-870c-059b67b0601c"}];
        Bokeh.load_models(all_models);
        var plots = [{'modeltype': 'Plot', 'elementid': '#a05b36e3-b8bb-4cdc-a16e-555f1f94f600', 'modelid': 'b68d47b2-70e4-4462-a9f1-af0154a9b5e1'}];
        for (idx in plots) {
            var plot = plots[idx];
            var model = Bokeh.Collections(plot.modeltype).get(plot.modelid);
            Bokeh.logger.info('Realizing plot:')
            Bokeh.logger.info(' - modeltype: ' + plot.modeltype);
            Bokeh.logger.info(' - modelid: ' + plot.modelid);
            Bokeh.logger.info(' - elementid: ' + plot.elementid);
            var view = new model.default_view({
                model: model,
                el: plot.elementid
            });
            Bokeh.index[plot.modelid] = view;
        }
    });
</script>

<div class="plotdiv" id="a05b36e3-b8bb-4cdc-a16e-555f1f94f600"></div>

`json` and `ujson` produces **JSON** which is human-readable compared to `cPickle` and `msgpack`. However, the size of the message produced is sometimes important. That's where `msgpack` shines. `msgpack` can save **40%** the size of messages produced when serialized to file.




